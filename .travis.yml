language: csharp
dist: xenial
mono: none
dotnet: 2.2

addons:
  apt:
    packages:
    - tree

script:
 - sed -i 's|// import appmodel 1.0|import appmodel 1.0|g' Main.qml
 - dotnet publish
 - wget -O bin/Debug/netcoreapp2.2/publish/org.hl7.fhir.validator.jar https://fhir.github.io/latest-ig-publisher/org.hl7.fhir.validator.jar
 - tree .
 - cd bin/Debug/netcoreapp2.2 && zip -r Hammer.zip publish
 - tree .
 - wget --method PUT --body-file=bin/Debug/netcoreapp2.2/publish/Hammer.zip "https://transfer.sh/Hammer.zip" -O - -q
